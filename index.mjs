// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-probability-array@v0.1.0-esm/index.mjs";import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.1.0-esm/index.mjs";import{isPrimitive as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.1.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.1.1-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-min@v0.1.1-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-max@v0.1.1-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@v0.1.1-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-pinf@v0.1.1-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/array-int32@v0.1.1-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-cumax@v0.1.1-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-cumin@v0.1.1-esm/index.mjs";function d(r,e){var t,n;for(n=0;n<r.length;n++)t=r[n],r[n]=e*t>1?1:e*t;return r}function u(r,e){return r<e?-1:r>e?1:0}function h(r,e){return r<e?1:r>e?-1:0}function g(r,e){var t,n,s;for(t=e?h:u,n=new m(r.length),s=0;s<r.length;s++)n[s]=s;return n.sort((function(e,n){return t(r[e],r[n])}))}var c=Array.prototype.slice;function v(r,e){var t,n,m,l,f,d,u,h,v,p,j,b;if((n=e-(f=r.length))>0)for(r=c.call(r);n>0;)r.push(1),n-=1;for(t=g(r),h=0;h<e;h++)b=e*r[h]/(h+1);for(j=new o(e),m=new o(e),h=e-1;h>1;h--){for(u=a,p=e-h+1;p<=e;p++)(b=h*r[t[p]]/(2+p-e+h-1))<u&&(u=b);for(v=0;v<e-h+1;v++)j[v]=s(h*r[t[v]],u);for(p=e-h+1;p<=e;p++)j[p]=j[e-h];for(v=0;v<m.length;v++)m[v]=i(j[v],m[v])}for(d=new Array(f),h=0;h<f;h++)l=t[h],b=i(m[h],r[l]),d[l]=b;return d}function p(r,e){var t,n,i,a,m;for(i=r.length,t=g(r),n=new o(i),m=0;m<i;m++)n[m]=(e-m)*r[t[m]];for(n=l(i,n,1,n,1),a=new Array(i),m=0;m<i;m++)a[t[m]]=s(n[m],1);return a}function j(r,e){var t,n,i,a,m;for(i=r.length,t=g(r,!0),n=new o(i),m=0;m<i;m++)n[m]=e/(i-m)*r[t[m]];for(n=f(i,n,1,n,1),a=new Array(i),m=0;m<i;m++)a[t[m]]=s(n[m],1);return a}function b(r,e){var t,n,i,a,m,l;for(i=r.length,t=g(r,!0),l=0,m=0;m<e;m++)l+=1/(1+m);for(n=new o(i),m=0;m<i;m++)n[m]=l*e/(i-m)*r[t[m]];for(n=f(i,n,1,n,1),a=new Array(i),m=0;m<i;m++)a[t[m]]=s(n[m],1);return a}var w=["bh","bonferroni","by","holm","hommel"];function y(s,i,o){if(!r(s))throw new TypeError(n("invalid argument. First argument must be an array of probabilities. Value: `%s`.",s));if(!t(i))throw new TypeError(n("invalid argument. Second argument must be a string. Value: `%s`.",i));if(arguments.length>2){if(!e(o))throw new TypeError(n("invalid argument. Third argument must be an integer. Value: `%s`.",o));if(o<s.length)throw new RangeError(n("invalid argument. The number of comparisons must be greater or equal to the number of p-values to be adjusted. Value: `%u`.",o))}switch(o=o||s.length,i){case"bonferroni":return d(s,o);case"by":return b(s,o);case"bh":return j(s,o);case"holm":return p(s,o);case"hommel":return v(s,o);default:throw new Error(n('invalid argument. Second argument must be one of the following: "%s". Value: `%s`.',w.join('", "'),i))}}export{y as default};
//# sourceMappingURL=index.mjs.map
